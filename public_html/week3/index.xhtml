<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <title>Week 3</title>
        <meta http-equiv="Content-Type" content="application/xml; charset=UTF-8"></meta>
        <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
        <link rel="stylesheet" href="app.css"/>
    </head>
    <body onload='init()'>
        <div>Using CDATA</div>
        <div>
            Randomize Background Color:<button onclick="randomizeBackground()">Click Me</button>
        </div>
        <div id='lastModifiedAt'>loading...</div>
        <hr></hr>
        <div>
            <span class='myLabel'>App Name:</span><span id='appName'></span><br></br>
            <span class='myLabel'>App Code Name:</span><span id='appCodeName'></span><br></br>
            <span class='myLabel'>App Version:</span><span id='appVersion'></span><br></br>
            <span class='myLabel'>User Agent:</span><span id='userAgent'></span><br></br>
        </div>
        <script type="text/javascript">
        //<![CDATA[
        function init() {
            console.log('Enter init function at %s', new Date().toLocaleTimeString());
            var lastModifiedAt = document.getElementById('lastModifiedAt');
            if ( lastModifiedAt !== 'undefined' )
                lastModifiedAt.innerHTML="Last modified at: " + document.lastModified;
            
            setBrowserDetails();
            
            console.log('Exit init function at %s', new Date().toLocaleTimeString());
        }        
        function randomizeBackground() {
            var r = Math.floor(Math.random() * 255).toString(16);
            var g = Math.floor(Math.random() * 255).toString(16);
            var b = Math.floor(Math.random() * 255).toString(16);
            document.body.style.backgroundColor = "#" + 
                    (r.length === 1 ? "0" + r : r) + 
                    (g.length === 1 ? "0" + g : g) + 
                    (b.length === 1 ? "0" + b : b);
        }
        function setBrowserDetails() {
            var appName  = navigator.appName;
            var appVersion = navigator.appVersion;
            var userAgent = navigator.userAgent;
            var appCodeName = navigator.appCodeName;
            document.getElementById('appName').innerHTML = appName;
            document.getElementById('appVersion').innerHTML = appVersion;
            document.getElementById('userAgent').innerHTML = userAgent;
            document.getElementById('appCodeName').innerHTML = appCodeName;
        }
        //]]>
        </script> 
    </body>
</html>